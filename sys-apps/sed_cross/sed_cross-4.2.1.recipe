SUMMARY="A stream editor" 
DESCRIPTION="
	Sed is a stream editor, i.e. it can be used to perform basic text 
	transformations on an input stream (a file or input from a pipeline). 
	
	While in some ways similar to an editor which permits scripted edits 
	(such as ed), sed works by making only one pass over the input(s), and 
	is consequently more efficient. But it is sed's ability to filter text 
	in a pipeline which particularly distinguishes it from other types of 
	editors.
	" 
HOMEPAGE="http://www.gnu.org/software/sed" 
SRC_URI="http://ftp.gnu.org/gnu/sed/sed-4.2.1.tar.gz"
CHECKSUM_MD5="f0fd4d7da574d4707e442285fd2d3b86"
REVISION="1"
ARCHITECTURES="x86_gcc2 ?x86"

PROVIDES="
	sed_cross = $portVersion compat >= 4
	cmd:sed = $portVersion compat >= 4
	"
REQUIRES="
	"
BUILD_REQUIRES="
	binutils_cross_$targetArchitecture
	gcc_cross_$targetArchitecture
	"
BUILD_PREREQUIRES="
	haiku_devel >= $haikuVersion
	cmd:make
	cmd:sed
	"

SOURCE_DIR="sed-$portVersion"

BUILD()
{
	./configure $configureDirArgs \
		--build=$buildMachineTriple --host=$targetMachineTriple \
		--enable-regex-tests --without-included-regex \
		--disable-rpath --with-gnu-ld
	make
}

INSTALL()
{
	make install

	$targetMachineTriple-strip $binDir/*

	rm $libDir/charset.alias
	rmdir $libDir
	rm -r $infoDir
}

LICENSE="GNU GPL v3"
COPYRIGHT="1989-2009 Free Software Foundation, Inc."
